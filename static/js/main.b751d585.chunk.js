(this.webpackJsonptestowoe=this.webpackJsonptestowoe||[]).push([[0],{115:function(e,t,n){e.exports=n(243)},120:function(e,t,n){},121:function(e,t,n){},126:function(e,t,n){e.exports={Wrapper:"Login_Wrapper__oLQO1",login:"Login_login__9bPln"}},15:function(e,t,n){e.exports={header:"Header_header__3F2Mb",nav:"Header_nav__1-ish",item:"Header_item__1dME0",activeLink:"Header_activeLink__3Y670"}},243:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(49),c=n.n(o),i=(n(120),n(18)),u=n(19),s=n(22),l=n(20),p=n(23),m=(n(121),n(28)),f=n(15),h=n.n(f),b=n(21),O=n(7),d=Object(O.b)((function(e){return{isAuth:e.auth.isAuth}}))((function(e){return a.a.createElement("header",{className:h.a.header},a.a.createElement("nav",{className:h.a.nav},a.a.createElement("div",{className:h.a.item},a.a.createElement(b.b,{to:"/ /",activeClassName:h.a.activeLink},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f")),a.a.createElement("div",{className:h.a.item},a.a.createElement(b.b,{to:"/posts",activeClassName:h.a.activeLink},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438")),a.a.createElement("div",{className:h.a.item},a.a.createElement(b.b,{to:"/profile",activeClassName:h.a.activeLink},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c")),e.isAuth?a.a.createElement("div",{className:h.a.item},a.a.createElement(b.b,{to:"/logout",activeClassName:h.a.activeLink},"LogOut")):null))})),v=function(e){return{isAuth:e.auth.isAuth}},g=function(e){var t=function(t){function n(){return Object(i.a)(this,n),Object(s.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(p.a)(n,t),Object(u.a)(n,[{key:"render",value:function(){return this.props.isAuth?a.a.createElement(e,this.props):a.a.createElement(m.a,{to:"/login"})}}]),n}(a.a.Component);return Object(O.b)(v)(t)},E=n(5),j=Object(E.d)(Object(O.b)((function(e){return{}})),g)((function(){return a.a.createElement("div",null,"THIS IS HOME PAGE")})),y=(n(126),n(245)),w=n(244),S=n(110),_=n(72),P=n.n(_),k=function(e){var t=e.input,n=e.meta,r=Object(S.a)(e,["input","meta"]),o=n.touched&&n.error;return a.a.createElement("div",{className:P.a.formControl+" "+(o?P.a.error:" ")},a.a.createElement("div",null,a.a.createElement("input",Object.assign({},t,r))),o&&a.a.createElement("span",null,n.error))},A=function(e){if(!e)return"Field is required"},C=n(40),N=n.n(C),L=n(73),D=n(50),I={login:function(e,t){return"Admin"===e&&"123123"===t?new Promise((function(e){setTimeout((function(){e({isAuth:!0})}))})):new Promise((function(e){setTimeout((function(){e({isAuth:!1,messages:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u0432\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435 \u0432\u0435\u0440\u043d\u043e "})}),1e3)}))},logout:function(){return new Promise((function(e){setTimeout((function(){e({isAuth:!1})}))}))}};function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach((function(t){Object(D.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H={error:null,isAuth:!1},M=function(e){return{type:"SUCCESS_LOGIN",data:e}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUCCESS_LOGIN":return T({},e,{isAuth:t.data});case"SUCCESS_ERROR":return T({},e,{isAuth:t.data.isAuth,error:t.data.messages});default:return T({},e)}},U=Object(w.a)({form:"login"})((function(e){return a.a.createElement("form",{onSubmit:e.handleSubmit},a.a.createElement("div",null,a.a.createElement(y.a,{placeholder:"Login",validate:[A],name:"username",component:k})),a.a.createElement("div",null,a.a.createElement(y.a,{placeholder:"Password",validate:[A],name:"password",type:"password",component:k})),a.a.createElement("div",null,a.a.createElement("button",null,"Login")))})),z=Object(O.b)((function(e){return{isAuth:e.auth.isAuth,error:e.auth.error}}),{logIn:function(e,t){return function(){var n=Object(L.a)(N.a.mark((function n(r){var a;return N.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,I.login(e,t);case 3:(a=n.sent).isAuth?(localStorage.setItem("name",JSON.stringify({isAuth:!0})),r(M(a.isAuth))):r({type:"SUCCESS_ERROR",data:a});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){return e.isAuth?a.a.createElement(m.a,{to:"/profile"}):a.a.createElement("div",null,a.a.createElement("h1",null,"Login to ..."),a.a.createElement(U,{onSubmit:function(t){e.logIn(t.username,t.password)}}),e.error?a.a.createElement("h2",null,e.error):null)})),W=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return a.a.createElement("div",null)}}]),t}(a.a.Component),F=Object(E.d)(Object(O.b)((function(e){return{}})),g)(W),J=n(77),G=n(112);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(n,!0).forEach((function(t){Object(D.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q={posts:[],pageSize:10,currentPage:1},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":return B({},e,{posts:[].concat(Object(J.a)(e.posts),Object(J.a)(t.posts))});default:return B({},e)}},X=function(e){return a.a.createElement("div",null,a.a.createElement("span",null,e.post_info.title),a.a.createElement("span",null,e.post_info.body))},Z=n(76),$=n.n(Z),K=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).onScroll=function(e){var t=document.documentElement.scrollHeight-window.innerHeight,r=window.scrollY,a=n.props.currentPage,o=n.props.pageSize,c=n.props.getPosts;window.onscroll=function(e){if(Math.ceil(r)===t){var n=function(e){return e+1}(a);c(n,o)}}},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.getPosts(this.props.currentPage,this.props.pageSize),document.addEventListener("scroll",this.onScroll.bind(this))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.onScroll)}},{key:"render",value:function(){return a.a.createElement("div",{className:$.a.wrapper},this.props.posts.map((function(e){return a.a.createElement("div",{className:$.a.post,key:e.id},a.a.createElement(X,{post_info:e}))})))}}]),t}(a.a.Component),V=Object(E.d)(Object(O.b)((function(e){return{posts:e.news.posts,pageSize:e.news.pageSize,currentPage:e.news.currentPage}}),{getPosts:function(e,t){return function(n){G.get("https://jsonplaceholder.typicode.com/posts?_page=".concat(e,"&_limit=").concat(t)).then((function(e){n({type:"SET_POSTS",posts:e.data})}))}}}),g)(K),ee=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"logOut",value:function(){this.props.logOut()}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("button",{onClick:this.logOut.bind(this)},"LogOut"))}}]),t}(r.Component),te=Object(E.d)(Object(O.b)(null,{logOut:function(){return function(){var e=Object(L.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.logout();case 2:(n=e.sent).isAuth||(localStorage.removeItem("name"),t(M(n.isAuth)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),g)(ee),ne=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.getItem("name")){var e=JSON.parse(localStorage.getItem("name"));this.props.SuccessLogin(e.isAuth)}}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(d,null),a.a.createElement("div",null,a.a.createElement(m.b,{path:"/ /",component:j}),a.a.createElement(m.b,{path:"/login",component:z}),a.a.createElement(m.b,{path:"/posts",component:V}),a.a.createElement(m.b,{path:"/profile",component:F}),a.a.createElement(m.b,{path:"/logout",component:te})))}}]),t}(r.Component),re=Object(O.b)(null,{SuccessLogin:M})(ne);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae=n(113),oe=n(246),ce=Object(E.c)({news:Q,auth:R,form:oe.a}),ie=Object(E.e)(ce,Object(E.a)(ae.a));c.a.render(a.a.createElement(O.a,{store:ie},a.a.createElement(b.a,null,a.a.createElement(re,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},72:function(e,t,n){e.exports={formControl:"FormControls_formControl__ZTn4E",error:"FormControls_error__3iA3_"}},76:function(e,t,n){e.exports={wrapper:"News_wrapper__UkwSv",post:"News_post__XyNfY"}}},[[115,1,2]]]);
//# sourceMappingURL=main.b751d585.chunk.js.map